<!doctype html>
<html lang="en-US" xmlns:th="http://www.thymeleaf.org">
<head>
    <link th:href="@{/css/style.css}" rel="stylesheet"/>
    <meta charset="utf-8"></meta>
    <meta http-equiv="Content-Type" content="text/html"></meta>
    <title>Workshop's</title>
</head>
<body>
<div>
    <h1>Lista de Workshops</h1>
</div>
<div>
    <a th:href="'/registrarWorkshop'"><button>Registrar nuevo workshop</button><a/>
        <a th:href="'/'"><button>Volver al home</button><a/>
</div>
<div>
    <h2> Busqueda de workshops por categoria</h2>
    <form action="#" th:action="@{'/buscar/categoria'}" method="post" th:object="${workshop}">
        <div style="margin: 30px 30px;">
            <label for="categoria">Seleccione una categoria para empezar a buscar</label>
            <select th:field="*{categoria}" id="categoria" required="required">
                <option value="vacio" th:disabled="disabled" th:selected="true">Seleccione una categoria</option>
                <div th:each="categoria : ${categorias}">
                    <option th:text="${categoria.name}" th:value="${categoria.id}"></option>
                </div>
            </select>
        </div>
        <input style="margin: 10px 30px;" type="submit" value="Realizar busqueda">
    </form>
</div>
<div>
    <table id="workshops">
        <thead>
        <tr>
            <th>Nombre</th>
            <th>Autor</th>
            <th>Categoria</th>
            <th>Objetivo</th>
            <th>Palabras claves</th>
            <th>Tiempo de duracion</th>
            <th>Opciones</th>
        </tr>
        </thead>
        <tbody >
        <tr th:if="${workshops.isEmpty()}">
            <td th:text="${mensaje}"></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr th:each="workshop : ${workshops}">
            <td th:text="${workshop.name}"></td>
            <td th:text="${workshop.autor}"></td>
            <td th:text="${workshop.categoria.name}"></td>
            <td th:text="${workshop.objective}"></td>
            <td th:text="${workshop.keywords}"></td>
            <td th:text="${workshop.tiempoDuracion}"></td>
            <td>
                <a th:href="@{'/editar/workshop/' + ${workshop.id}}"><button>Editar</button><a/>
                <a th:href="@{'/perfilWorkshop/' + ${workshop.id}}"><button>Ver perfil</button><a/>
                <a th:href="@{'/verActividades/' + ${workshop.id}}"><button>Ver actividades</button><a/>
                <a th:href="@{'/obtenerReporte/' + ${workshop.id}}"><button>Descargar reporte</button></a>

            </td>
        </tr>
        </tbody>
    </table>
</div>

</body>
</html>
